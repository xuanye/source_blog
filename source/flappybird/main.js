!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=1)}([function(t,e){t.exports=PIXI},function(t,e,n){"use strict";n.r(e);var c=n(0);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(){var t=arguments.length<=0||void 0===arguments[0]?PIXI:arguments[0];if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),void 0===t)throw new Error("Please assign a rendering engine in the constructor before using bump.js");this.renderer="pixi"}var a=(function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(i,[{key:"addCollisionProperties",value:function(t){"pixi"===this.renderer&&(void 0===t.gx&&Object.defineProperty(t,"gx",{get:function(){return t.getGlobalPosition().x},enumerable:!0,configurable:!0}),void 0===t.gy&&Object.defineProperty(t,"gy",{get:function(){return t.getGlobalPosition().y},enumerable:!0,configurable:!0}),void 0===t.centerX&&Object.defineProperty(t,"centerX",{get:function(){return t.x+t.width/2},enumerable:!0,configurable:!0}),void 0===t.centerY&&Object.defineProperty(t,"centerY",{get:function(){return t.y+t.height/2},enumerable:!0,configurable:!0}),void 0===t.halfWidth&&Object.defineProperty(t,"halfWidth",{get:function(){return t.width/2},enumerable:!0,configurable:!0}),void 0===t.halfHeight&&Object.defineProperty(t,"halfHeight",{get:function(){return t.height/2},enumerable:!0,configurable:!0}),void 0===t.xAnchorOffset&&Object.defineProperty(t,"xAnchorOffset",{get:function(){return void 0!==t.anchor?t.width*t.anchor.x:0},enumerable:!0,configurable:!0}),void 0===t.yAnchorOffset&&Object.defineProperty(t,"yAnchorOffset",{get:function(){return void 0!==t.anchor?t.height*t.anchor.y:0},enumerable:!0,configurable:!0}),t.circular&&void 0===t.radius&&Object.defineProperty(t,"radius",{get:function(){return t.width/2},enumerable:!0,configurable:!0})),t._bumpPropertiesAdded=!0}},{key:"hitTestPoint",value:function(t,e){e._bumpPropertiesAdded||this.addCollisionProperties(e);var n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if("rectangle"==(n=e.radius?"circle":"rectangle")&&(r=e.x-e.xAnchorOffset,i=e.x+e.width-e.xAnchorOffset,a=e.y-e.yAnchorOffset,o=e.y+e.height-e.yAnchorOffset,s=t.x>r&&t.x<i&&t.y>a&&t.y<o),"circle"===n){var h=t.x-e.x-e.width/2+e.xAnchorOffset,u=t.y-e.y-e.height/2+e.yAnchorOffset;s=Math.sqrt(h*h+u*u)<e.radius}return s}},{key:"hitTestCircle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i=void 0,a=void 0;return a=r?(i=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(i=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),Math.sqrt(i*i+a*a)<t.radius+e.radius}},{key:"circleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,a=!(arguments.length<=3||void 0===r)&&r;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var o,s,h=void 0,u=void 0,c=void 0,f=void 0,l=void 0,d={},p=!1;return c=a?(u=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(u=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),(o=Math.sqrt(u*u+c*c))<(s=t.radius+e.radius)&&(p=!0,h=s-o,h+=.3,f=u/o,l=c/o,t.x-=h*f,t.y-=h*l,i&&(d.x=c,d.y=-u,this.bounceOffSurface(t,d))),p}},{key:"movingCircleCollision",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,a=void 0,o=void 0,s=void 0,h={},u={},c={},f={},l={},d=!1;if(t.mass=t.mass||1,e.mass=e.mass||1,r?(h.vx=e.gx+e.radius-e.xAnchorOffset-(t.gx+t.radius-t.xAnchorOffset),h.vy=e.gy+e.radius-e.yAnchorOffset-(t.gy+t.radius-t.yAnchorOffset)):(h.vx=e.x+e.radius-e.xAnchorOffset-(t.x+t.radius-t.xAnchorOffset),h.vy=e.y+e.radius-e.yAnchorOffset-(t.y+t.radius-t.yAnchorOffset)),h.magnitude=Math.sqrt(h.vx*h.vx+h.vy*h.vy),i=t.radius+e.radius,h.magnitude<i){d=!0,a=i-h.magnitude,a+=.3,h.dx=h.vx/h.magnitude,h.dy=h.vy/h.magnitude,h.vxHalf=Math.abs(h.dx*a/2),h.vyHalf=Math.abs(h.dy*a/2),o=t.x>e.x?1:-1,s=t.y>e.y?1:-1,t.x=t.x+h.vxHalf*o,t.y=t.y+h.vyHalf*s,e.x=e.x+h.vxHalf*-o,e.y=e.y+h.vyHalf*-s,h.lx=h.vy,h.ly=-h.vx;var p=t.vx*h.dx+t.vy*h.dy;u.x=p*h.dx,u.y=p*h.dy;var g=t.vx*(h.lx/h.magnitude)+t.vy*(h.ly/h.magnitude);c.x=g*(h.lx/h.magnitude),c.y=g*(h.ly/h.magnitude);var y=e.vx*h.dx+e.vy*h.dy;f.x=y*h.dx,f.y=y*h.dy;var v=e.vx*(h.lx/h.magnitude)+e.vy*(h.ly/h.magnitude);l.x=v*(h.lx/h.magnitude),l.y=v*(h.ly/h.magnitude),t.bounce={},t.bounce.x=c.x+f.x,t.bounce.y=c.y+f.y,e.bounce={},e.bounce.x=u.x+l.x,e.bounce.y=u.y+l.y,t.vx=t.bounce.x/t.mass,t.vy=t.bounce.y/t.mass,e.vx=e.bounce.x/e.mass,e.vy=e.bounce.y/e.mass}return d}},{key:"multipleCircleCollision",value:function(t,e){for(var n=!(arguments.length<=1||void 0===e)&&e,r=0;r<t.length;r++)for(var i=t[r],a=r+1;a<t.length;a++){var o=t[a];this.movingCircleCollision(i,o,n)}}},{key:"rectangleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,a=arguments.length<=3||void 0===r||r;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var o,s,h=void 0,u=void 0,c=void 0,f=void 0,l=void 0;return l=a?(f=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(f=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),o=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),s=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(f)<o&&Math.abs(l)<s&&(u=o-Math.abs(f),(c=s-Math.abs(l))<=u?(0<l?(h="top",t.y=t.y+c):(h="bottom",t.y=t.y-c),i&&(t.vy*=-1)):(0<f?(h="left",t.x=t.x+u):(h="right",t.x=t.x-u),i&&(t.vx*=-1))),h}},{key:"hitTestRectangle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,a,o=void 0,s=void 0;return s=r?(o=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(o=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),i=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),a=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(o)<i&&Math.abs(s)<a}},{key:"hitTestCircleRectangle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var i=void 0,a=void 0,o=void 0,s=void 0,h=void 0,u=void 0;if(u=r?(o=t.gx,s=t.gy,h=e.gx,e.gy):(o=t.x,s=t.y,h=e.x,e.y),"topMiddle"==(i=s-t.yAnchorOffset<u-Math.abs(e.halfHeight)-e.yAnchorOffset?o-t.xAnchorOffset<h-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":o-t.xAnchorOffset>h+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":s-t.yAnchorOffset>u+Math.abs(e.halfHeight)-e.yAnchorOffset?o-t.xAnchorOffset<h-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":o-t.xAnchorOffset>h+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":o-t.xAnchorOffset<h-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)a=this.hitTestRectangle(t,e,r);else{var c={};switch(i){case"topLeft":c.x=h-e.xAnchorOffset,c.y=u-e.yAnchorOffset;break;case"topRight":c.x=h+e.width-e.xAnchorOffset,c.y=u-e.yAnchorOffset;break;case"bottomLeft":c.x=h-e.xAnchorOffset,c.y=u+e.height-e.yAnchorOffset;break;case"bottomRight":c.x=h+e.width-e.xAnchorOffset,c.y=u+e.height-e.yAnchorOffset}a=this.hitTestCirclePoint(t,c,r)}return a?i:a}},{key:"hitTestCirclePoint",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.hitTestCircle(t,e,r)}},{key:"circleRectangleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,a=!(arguments.length<=3||void 0===r)&&r;e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var o=void 0,s=void 0,h=void 0,u=void 0,c=void 0,f=void 0;if(f=a?(h=t.gx,u=t.gy,c=e.gx,e.gy):(h=t.x,u=t.y,c=e.x,e.y),"topMiddle"==(o=u-t.yAnchorOffset<f-Math.abs(e.halfHeight)-e.yAnchorOffset?h-t.xAnchorOffset<c-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":h-t.xAnchorOffset>c+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":u-t.yAnchorOffset>f+Math.abs(e.halfHeight)-e.yAnchorOffset?h-t.xAnchorOffset<c-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":h-t.xAnchorOffset>c+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":h-t.xAnchorOffset<c-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===o||"leftMiddle"===o||"rightMiddle"===o)s=this.rectangleCollision(t,e,i,a);else{var l={};switch(o){case"topLeft":l.x=c-e.xAnchorOffset,l.y=f-e.yAnchorOffset;break;case"topRight":l.x=c+e.width-e.xAnchorOffset,l.y=f-e.yAnchorOffset;break;case"bottomLeft":l.x=c-e.xAnchorOffset,l.y=f+e.height-e.yAnchorOffset;break;case"bottomRight":l.x=c+e.width-e.xAnchorOffset,l.y=f+e.height-e.yAnchorOffset}s=this.circlePointCollision(t,l,i,a)}return s?o:s}},{key:"circlePointCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,a=!(arguments.length<=3||void 0===r)&&r;return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.circleCollision(t,e,i,a)}},{key:"bounceOffSurface",value:function(t,e){t._bumpPropertiesAdded||this.addCollisionProperties(t);var n,r,i={},a={},o={},s=t.mass||1;e.lx=e.y,e.ly=-e.x,e.magnitude=Math.sqrt(e.x*e.x+e.y*e.y),e.dx=e.x/e.magnitude,e.dy=e.y/e.magnitude,n=t.vx*e.dx+t.vy*e.dy,i.vx=n*e.dx,i.vy=n*e.dy,r=t.vx*(e.lx/e.magnitude)+t.vy*(e.ly/e.magnitude),a.vx=r*(e.lx/e.magnitude),a.vy=r*(e.ly/e.magnitude),a.vx*=-1,a.vy*=-1,o.x=i.vx+a.vx,o.y=i.vy+a.vy,t.vx=o.x/s,t.vy=o.y/s}},{key:"contain",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,a=arguments.length<=3||void 0===r?void 0:r;t._bumpPropertiesAdded||this.addCollisionProperties(t),void 0===e.xAnchorOffset&&(e.xAnchorOffset=0),void 0===e.yAnchorOffset&&(e.yAnchorOffset=0),void 0===t.parent.gx&&(t.parent.gx=0),void 0===t.parent.gy&&(t.parent.gy=0);var o=new Set;return t.x-t.xAnchorOffset<e.x-t.parent.gx-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.x-t.parent.gx-e.xAnchorOffset+t.xAnchorOffset,o.add("left")),t.y-t.yAnchorOffset<e.y-t.parent.gy-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.y-t.parent.gy-e.yAnchorOffset+t.yAnchorOffset,o.add("top")),t.x-t.xAnchorOffset+t.width>e.width-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.width-t.width-e.xAnchorOffset+t.xAnchorOffset,o.add("right")),t.y-t.yAnchorOffset+t.height>e.height-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.height-t.height-e.yAnchorOffset+t.yAnchorOffset,o.add("bottom")),0===o.size&&(o=void 0),o&&a&&a(o),o}},{key:"outsideBounds",value:function(t,e,n){var r=e.x,i=e.y,a=e.width,o=e.height,s=new Set;return t.x<r-t.width&&s.add("left"),t.y<i-t.height&&s.add("top"),t.x>a+t.width&&s.add("right"),t.y>o+t.height&&s.add("bottom"),0===s.size&&(s=void 0),s&&n&&n(s),s}},{key:"_getCenter",value:function(t,e,n){return void 0!==t.anchor?0!==t.anchor[n]?0:e/2:e}},{key:"hit",value:function(n,r,t,e,i,a){var c=!(arguments.length<=2||void 0===t)&&t,f=!(arguments.length<=3||void 0===e)&&e,l=i,o=arguments.length<=5||void 0===a?void 0:a,d=this.hitTestPoint.bind(this),p=this.hitTestRectangle.bind(this),g=this.hitTestCircle.bind(this),y=this.movingCircleCollision.bind(this),v=this.circleCollision.bind(this),m=this.hitTestCircleRectangle.bind(this),b=this.rectangleCollision.bind(this),x=this.circleRectangleCollision.bind(this),s=void 0,h=void 0!==n.parent,u=void 0!==r.parent;return h&&r instanceof Array||u&&n instanceof Array?function(){Array;for(var t=r.length-1;0<=t;t--){var e=r[t];(s=O(n,e))&&o&&o(s,e)}}():(s=O(n,r))&&o&&o(s),s;function O(t,e){var n,r,i,a,o,s,h=void 0!==t.parent,u=void 0!==e.parent;if(h&&u)return t.diameter&&e.diameter?(o=t,s=e,c?o.vx+o.vy!==0&&s.vx+s.vy!==0?y(o,s,l):v(o,s,f,l):g(o,s)):t.diameter&&!e.diameter?(i=t,a=e,c?x(i,a,f,l):m(i,a,l)):(n=t,r=e,c?b(n,r,f,l):p(n,r,l));if(u&&void 0!==t.x&&void 0!==t.y)return d(t,e);throw new Error("I'm sorry, "+t+" and "+e+" cannot be use together in a collision test.'")}}}]),i);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.bump=new a(c)}},{key:"spriteFrame",value:function(t,e){for(var n=[],r=0;r<e.length;r++){var i=new c.Rectangle(e[r][0],e[r][1],e[r][2],e[r][3]),a=new c.Texture(t);a.frame=i,n.push(a)}return n}}])&&o(e.prototype,n),r&&o(e,r),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=f(this,l(r).call(this))).app=t,n.props=e,n.init(e),n}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(r,c["Container"]),t=r,(e=[{key:"init",value:function(t){var e=new c.Rectangle(0,0,508,158),n=new c.Texture(t.image);n.frame=e;var r=new c.Sprite(n),i=new c.Rectangle(0,158,286,246),a=new c.Texture(t.image);a.frame=i;var o=new c.Sprite(a);o.x=t.stageWidth-o.width>>1,o.y=t.stageHeight-o.height+40>>1,r.x=t.stageWidth-r.width>>1,r.y=o.y-r.height>>0,this.addChild(o,r)}}])&&u(t.prototype,e),n&&u(t,n),r}(),A={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},P={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},g=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],y={CSS:{},springs:{}};function S(t,e,n){return Math.min(Math.max(t,e),n)}function v(t,e){return-1<t.indexOf(e)}function m(t,e){return t.apply(null,e)}var M={arr:function(t){return Array.isArray(t)},obj:function(t){return v(Object.prototype.toString.call(t),"Object")},pth:function(t){return M.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||M.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return M.hex(t)||M.rgb(t)||M.hsl(t)},key:function(t){return!A.hasOwnProperty(t)&&!P.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function b(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(t){return parseFloat(t)}):[]}function x(i,n){var t=b(i),e=S(M.und(t[0])?1:t[0],.1,100),r=S(M.und(t[1])?100:t[1],.1,100),a=S(M.und(t[2])?10:t[2],.1,100),o=S(M.und(t[3])?0:t[3],.1,100),s=Math.sqrt(r/e),h=a/(2*Math.sqrt(r*e)),u=h<1?s*Math.sqrt(1-h*h):0,c=1,f=h<1?(h*s-o)/u:-o+s;function l(t){var e=n?n*t/1e3:t;return e=h<1?Math.exp(-e*h*s)*(c*Math.cos(u*e)+f*Math.sin(u*e)):(c+f*e)*Math.exp(-e*s),0===t||1===t?t:1-e}return n?l:function(){var t=y.springs[i];if(t)return t;for(var e=0,n=0;;)if(1===l(e+=1/6)){if(16<=++n)break}else n=0;var r=e*(1/6)*1e3;return y.springs[i]=r}}function O(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var w=function(a,e,o,n){if(0<=a&&a<=1&&0<=o&&o<=1){var s=new Float32Array(11);if(a!==e||o!==n)for(var t=0;t<11;++t)s[t]=_(.1*t,a,o);return function(t){return a===e&&o===n||0===t||1===t?t:_(r(t),e,n)}}function r(t){for(var e=0,n=1;10!==n&&s[n]<=t;++n)e+=.1;var r=e+(t-s[--n])/(s[n+1]-s[n])*.1,i=j(r,a,o);return.001<=i?function(t,e,n,r){for(var i=0;i<4;++i){var a=j(e,n,r);if(0===a)return e;e-=(_(e,n,r)-t)/a}return e}(t,r,a,o):0===i?r:function(t,e,n,r,i){for(var a,o,s=0;0<(a=_(o=e+(n-e)/2,r,i)-t)?n=o:e=o,1e-7<Math.abs(a)&&++s<10;);return o}(t,e,e+.1,a,o)}};function k(t,e){return 1-3*e+3*t}function C(t,e){return 3*e-6*t}function H(t){return 3*t}function _(t,e,n){return((k(e,n)*t+C(e,n))*t+H(e))*t}function j(t,e,n){return 3*k(e,n)*t*t+2*C(e,n)*t+H(e)}var T,W,B=(T={linear:function(){return function(t){return t}}},W={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=S(t,1,10),r=S(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,e){W[t]=function(){return function(t){return Math.pow(t,e+2)}}}),Object.keys(W).forEach(function(t){var r=W[t];T["easeIn"+t]=r,T["easeOut"+t]=function(e,n){return function(t){return 1-r(e,n)(1-t)}},T["easeInOut"+t]=function(e,n){return function(t){return t<.5?r(e,n)(2*t)/2:1-r(e,n)(-2*t+2)/2}}}),T);function L(t,e){if(M.fnc(t))return t;var n=t.split("(")[0],r=B[n],i=b(t);switch(n){case"spring":return x(t,e);case"cubicBezier":return m(w,i);case"steps":return m(O,i);default:return m(r,i)}}function E(t){try{return document.querySelectorAll(t)}catch(t){return}}function I(t,e){for(var n=t.length,r=2<=arguments.length?e:void 0,i=[],a=0;a<n;a++)if(a in t){var o=t[a];e.call(r,o,a,t)&&i.push(o)}return i}function F(t){return t.reduce(function(t,e){return t.concat(M.arr(e)?F(e):e)},[])}function R(t){return M.arr(t)?t:(M.str(t)&&(t=E(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function Y(t,e){return t.some(function(t){return t===e})}function D(t){var e={};for(var n in t)e[n]=t[n];return e}function X(t,e){var n=D(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function q(t,e){var n=D(t);for(var r in e)n[r]=M.und(t[r])?e[r]:t[r];return n}function N(t){return M.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:M.hex(t)?(r=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):M.hsl(t)?function(t){var e,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,h=i[4]||1;function u(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==o)e=n=r=s;else{var c=s<.5?s*(1+o):s+o-s*o,f=2*s-c;e=u(f,c,a+1/3),n=u(f,c,a),r=u(f,c,a-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+h+")"}(t):void 0;var e,n,r,i}function $(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function G(t,e){return M.fnc(t)?t(e.target,e.id,e.total):t}function U(t,e){return t.getAttribute(e)}function V(t,e,n){if(Y([n,"deg","rad","turn"],$(e)))return e;var r=y.CSS[e+n];if(!M.und(r))return r;var i=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+n;var o=100/i.offsetWidth;a.removeChild(i);var s=o*parseFloat(e);return y.CSS[e+n]=s}function z(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?V(t,i,n):i}}function Z(t,e){return M.dom(t)&&!M.inp(t)&&(U(t,e)||M.svg(t)&&t[e])?"attribute":M.dom(t)&&Y(g,e)?"transform":M.dom(t)&&"transform"!==e&&z(t,e)?"css":null!=t[e]?"object":void 0}function Q(t){if(M.dom(t)){for(var e,n=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;e=r.exec(n);)i.set(e[1],e[2]);return i}}function J(t,e,n,r){var i,a=v(e,"scale")?1:0+(v(i=e,"translate")||"perspective"===i?"px":v(i,"rotate")||v(i,"skew")?"deg":void 0),o=Q(t).get(e)||a;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),r?V(t,o,r):o}function K(t,e,n,r){switch(Z(t,e)){case"transform":return J(t,e,r,n);case"css":return z(t,e,n);case"attribute":return U(t,e);default:return t[e]||0}}function tt(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=$(t)||0,i=parseFloat(e),a=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+a+r;case"-":return i-a+r;case"*":return i*a+r}}function et(t,e){if(M.col(t))return N(t);if(/\s/g.test(t))return t;var n=$(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function nt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rt(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var a=n.getItem(i);0<i&&(r+=nt(e,a)),e=a}return r}function it(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return a=t,2*Math.PI*U(a,"r");case"rect":return 2*U(i=t,"width")+2*U(i,"height");case"line":return nt({x:U(r=t,"x1"),y:U(r,"y1")},{x:U(r,"x2"),y:U(r,"y2")});case"polyline":return rt(t);case"polygon":return n=(e=t).points,rt(e)+nt(n.getItem(n.numberOfItems-1),n.getItem(0))}var e,n,r,i,a}function at(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;M.svg(e)&&M.svg(e.parentNode);)e=e.parentNode;return e}(t),i=r.getBoundingClientRect(),a=U(r,"viewBox"),o=i.width,s=i.height,h=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:r,viewBox:h,x:+h[0],y:+h[1],w:o/h[2],h:s/h[3]}}function ot(n,r){function t(t){void 0===t&&(t=0);var e=1<=r+t?r+t:0;return n.el.getPointAtLength(e)}var e=at(n.el,n.svg),i=t(),a=t(-1),o=t(1);switch(n.property){case"x":return(i.x-e.x)*e.w;case"y":return(i.y-e.y)*e.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function st(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=et(M.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:M.str(t)||e?r.split(n):[]}}function ht(t){return I(t?F(M.arr(t)?t.map(R):R(t)):[],function(t,e,n){return n.indexOf(t)===e})}function ut(t){var n=ht(t);return n.map(function(t,e){return{target:t,id:e,total:n.length,transforms:{list:Q(t)}}})}function ct(t,r){var e=D(r);if(/^spring/.test(e.easing)&&(e.duration=x(e.easing)),M.arr(t)){var n=t.length;2===n&&!M.obj(t[0])?t={value:t}:M.fnc(r.duration)||(e.duration=r.duration/n)}var i=M.arr(t)?t:[t];return i.map(function(t,e){var n=M.obj(t)&&!M.pth(t)?t:{value:t};return M.und(n.delay)&&(n.delay=e?0:r.delay),M.und(n.endDelay)&&(n.endDelay=e===i.length-1?r.endDelay:0),n}).map(function(t){return q(t,e)})}function ft(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=q(function(e){for(var n=I(F(e.map(function(t){return Object.keys(t)})),function(t){return M.key(t)}).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]),i={},t=function(t){var r=n[t];i[r]=e.map(function(t){var e={};for(var n in t)M.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e})},r=0;r<n.length;r++)t(r);return i}(r),e)),e)M.key(i)&&n.push({name:i,tweens:ct(e[i],t)});return n}function lt(c,f){var l;return c.tweens.map(function(t){var e=function(t,e){var n={};for(var r in t){var i=G(t[r],e);M.arr(i)&&1===(i=i.map(function(t){return G(t,e)})).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(t,f),n=e.value,r=M.arr(n)?n[1]:n,i=$(r),a=K(f.target,c.name,i,f),o=l?l.to.original:a,s=M.arr(n)?n[0]:o,h=$(s)||$(a),u=i||h;return M.und(r)&&(r=o),e.from=st(s,u),e.to=st(tt(r,s),u),e.start=l?l.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=L(e.easing,e.duration),e.isPath=M.pth(n),e.isColor=M.col(e.from.original),e.isColor&&(e.round=1),l=e})}var dt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var a="";r.list.forEach(function(t,e){a+=e+"("+t+") "}),t.style.transform=a}}};function pt(t,h){ut(t).forEach(function(t){for(var e in h){var n=G(h[e],t),r=t.target,i=$(n),a=K(r,e,i,t),o=tt(et(n,i||$(a)),a),s=Z(r,e);dt[s](r,e,o,t.transforms,!0)}})}function gt(t,n){return I(F(t.map(function(e){return n.map(function(t){return function(t,e){var n=Z(t.target,e.name);if(n){var r=lt(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)})})),function(t){return!M.und(t)})}function yt(t,e){function n(t){return t.timelineOffset?t.timelineOffset:0}var r=t.length,i={};return i.duration=r?Math.max.apply(Math,t.map(function(t){return n(t)+t.duration})):e.duration,i.delay=r?Math.min.apply(Math,t.map(function(t){return n(t)+t.delay})):e.delay,i.endDelay=r?i.duration-Math.max.apply(Math,t.map(function(t){return n(t)+t.duration-t.endDelay})):e.endDelay,i}var vt=0;var mt,bt=[],xt=[],Ot=wt;function wt(){mt=requestAnimationFrame(At)}function At(t){var e=bt.length;if(e){for(var n=0;n<e;){var r=bt[n];if(r.paused){var i=bt.indexOf(r);-1<i&&(bt.splice(i,1),e=bt.length)}else r.tick(t);n++}wt()}else mt=cancelAnimationFrame(mt)}function Mt(t){void 0===t&&(t={});var a,o=0,s=0,h=0,u=0,c=null;function f(t){var e=window.Promise&&new Promise(function(t){return c=t});return t.finished=e}var e,n,r,i,l,d,p,g,M=(n=X(A,e=t),r=X(P,e),i=ft(r,e),l=ut(e.targets),d=gt(l,i),p=yt(d,r),g=vt,vt++,q(n,{id:g,children:[],animatables:l,animations:d,duration:p.duration,delay:p.delay,endDelay:p.endDelay}));f(M);function y(){var t=M.direction;"alternate"!==t&&(M.direction="normal"!==t?"normal":"reverse"),M.reversed=!M.reversed,a.forEach(function(t){return t.reversed=M.reversed})}function v(t){return M.reversed?M.duration-t:t}function m(){o=0,s=v(M.currentTime)*(1/Mt.speed)}function b(t,e){e&&e.seek(t-e.timelineOffset)}function x(e){for(var t=0,n=M.animations,r=n.length;t<r;){var i=n[t],a=i.animatable,o=i.tweens,s=o.length-1,h=o[s];s&&(h=I(o,function(t){return e<t.end})[0]||h);for(var u=S(e-h.start-h.delay,0,h.duration)/h.duration,c=isNaN(u)?1:h.easing(u),f=h.to.strings,l=h.round,d=[],p=h.to.numbers.length,g=void 0,y=0;y<p;y++){var v=void 0,m=h.to.numbers[y],b=h.from.numbers[y]||0;v=h.isPath?ot(h.value,c*m):b+c*(m-b),l&&(h.isColor&&2<y||(v=Math.round(v*l)/l)),d.push(v)}var x=f.length;if(x){g=f[0];for(var O=0;O<x;O++){f[O];var w=f[O+1],A=d[O];isNaN(A)||(g+=w?A+w:A+" ")}}else g=d[0];dt[i.type](a.target,i.property,g,a.transforms),i.currentValue=g,t++}}function O(t){M[t]&&!M.passThrough&&M[t](M)}function w(t){var e=M.duration,n=M.delay,r=e-M.endDelay,i=v(t);M.progress=S(i/e*100,0,100),M.reversePlayback=i<M.currentTime,a&&function(t){if(M.reversePlayback)for(var e=u;e--;)b(t,a[e]);else for(var n=0;n<u;n++)b(t,a[n])}(i),!M.began&&0<M.currentTime&&(M.began=!0,O("begin")),!M.loopBegan&&0<M.currentTime&&(M.loopBegan=!0,O("loopBegin")),i<=n&&0!==M.currentTime&&x(0),(r<=i&&M.currentTime!==e||!e)&&x(e),n<i&&i<r?(M.changeBegan||(M.changeBegan=!0,M.changeCompleted=!1,O("changeBegin")),O("change"),x(i)):M.changeBegan&&(M.changeCompleted=!0,M.changeBegan=!1,O("changeComplete")),M.currentTime=S(i,0,e),M.began&&O("update"),e<=t&&(s=0,M.remaining&&!0!==M.remaining&&M.remaining--,M.remaining?(o=h,O("loopComplete"),M.loopBegan=!1,"alternate"===M.direction&&y()):(M.paused=!0,M.completed||(M.completed=!0,O("loopComplete"),O("complete"),!M.passThrough&&"Promise"in window&&(c(),f(M)))))}return M.reset=function(){var t=M.direction;M.passThrough=!1,M.currentTime=0,M.progress=0,M.paused=!0,M.began=!1,M.loopBegan=!1,M.changeBegan=!1,M.completed=!1,M.changeCompleted=!1,M.reversePlayback=!1,M.reversed="reverse"===t,M.remaining=M.loop,a=M.children;for(var e=u=a.length;e--;)M.children[e].reset();(M.reversed&&!0!==M.loop||"alternate"===t&&1===M.loop)&&M.remaining++,x(M.reversed?M.duration:0)},M.set=function(t,e){return pt(t,e),M},M.tick=function(t){w(((h=t)+(s-(o=o||h)))*Mt.speed)},M.seek=function(t){w(v(t))},M.pause=function(){M.paused=!0,m()},M.play=function(){M.paused&&(M.completed&&M.reset(),M.paused=!1,bt.push(M),m(),mt||Ot())},M.reverse=function(){y(),m()},M.restart=function(){M.reset(),M.play()},M.reset(),M.autoplay&&M.play(),M}function Pt(t,e){for(var n=e.length;n--;)Y(t,e[n].animatable.target)&&e.splice(n,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(bt.forEach(function(t){return t.pause()}),xt=bt.slice(0),Mt.running=bt=[]):xt.forEach(function(t){return t.play()})}),Mt.version="3.1.0",Mt.speed=1,Mt.running=bt,Mt.remove=function(t){for(var e=ht(t),n=bt.length;n--;){var r=bt[n],i=r.animations,a=r.children;Pt(e,i);for(var o=a.length;o--;){var s=a[o],h=s.animations;Pt(e,h),h.length||s.children.length||a.splice(o,1)}i.length||a.length||r.pause()}},Mt.get=K,Mt.set=pt,Mt.convertPx=V,Mt.path=function(t,e){var n=M.str(t)?E(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:at(n),totalLength:it(n)*(r/100)}}},Mt.setDashoffset=function(t){var e=it(t);return t.setAttribute("stroke-dasharray",e),e},Mt.stagger=function(t,e){void 0===e&&(e={});var u=e.direction||"normal",c=e.easing?L(e.easing):null,f=e.grid,l=e.axis,d=e.from||0,p="first"===d,g="center"===d,y="last"===d,v=M.arr(t),m=v?parseFloat(t[0]):parseFloat(t),b=v?parseFloat(t[1]):0,x=$(v?t[1]:t)||0,O=e.start||0+(v?m:0),w=[],A=0;return function(t,e,n){if(p&&(d=0),g&&(d=(n-1)/2),y&&(d=n-1),!w.length){for(var r=0;r<n;r++){if(f){var i=g?(f[0]-1)/2:d%f[0],a=g?(f[1]-1)/2:Math.floor(d/f[0]),o=i-r%f[0],s=a-Math.floor(r/f[0]),h=Math.sqrt(o*o+s*s);"x"===l&&(h=-o),"y"===l&&(h=-s),w.push(h)}else w.push(Math.abs(d-r));A=Math.max.apply(Math,w)}c&&(w=w.map(function(t){return c(t/A)*A})),"reverse"===u&&(w=w.map(function(t){return l?t<0?-1*t:-t:Math.abs(A-t)}))}return O+(v?(b-m)/A:m)*(Math.round(100*w[e])/100)+x}},Mt.timeline=function(c){void 0===c&&(c={});var f=Mt(c);return f.duration=0,f.add=function(t,e){var n=bt.indexOf(f),r=f.children;function i(t){t.passThrough=!0}-1<n&&bt.splice(n,1);for(var a=0;a<r.length;a++)i(r[a]);var o=q(t,X(P,c));o.targets=o.targets||c.targets;var s=f.duration;o.autoplay=!1,o.direction=f.direction,o.timelineOffset=M.und(e)?s:tt(e,s),i(f),f.seek(o.timelineOffset);var h=Mt(o);i(h),r.push(h);var u=yt(r,c);return f.delay=u.delay,f.endDelay=u.endDelay,f.duration=u.duration,f.seek(0),f.reset(),f.autoplay&&f.play(),f},f},Mt.easing=L,Mt.penner=B,Mt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var St=Mt;function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Ht(this,_t(r).call(this))).app=t,n.props=e,n.visible=!0,n.init(e),n}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(r,c["Container"]),t=r,(e=[{key:"init",value:function(t){var e=this.app.tools.spriteFrame(t.image,[[0,0,590,298],[0,298,508,158],[590,0,290,176],[590,176,290,176]]),n=new c.Sprite(e[0]);n.name="board",this.board=n;var r=new c.Sprite(e[1]);r.name="gameover",this.gameover=r;var i=new c.Sprite(e[2]);i.name="startBtn",i.interactive=!0,i.buttonMode=!0,this.startBtn=i;var a=new c.Sprite(e[3]);a.name="gradeBtn",this.gradeBtn=a;var o=new c.BitmapText("0",{font:"32px fnum"});o.letterSpacing=14,o.name="scoreLabel",this.scoreLabel=o;var s=new c.BitmapText("0",{font:"32px fnum"});s.name="bestLabel",s.letterSpacing=14,this.bestLabel=s;var h=new c.Container;h.name="whiteMask",h.width=t.stageWidth,h.height=t.stageHeight,h.alpha=0;var u=new c.Graphics;u.beginFill(16777215),u.drawRect(0,0,t.stageWidth,t.stageHeight),u.endFill(),h.addChild(u),this.whiteMask=h,console.log(t.stageHeight,n.height),n.x=t.stageWidth-n.width>>1,n.y=t.stageHeight-n.height>>1,r.x=t.stageWidth-r.width>>1,r.y=n.y-r.height-20,i.x=n.x-5,i.y=n.y+n.height+20>>0,a.x=i.x+i.width+20>>0,a.y=i.y,o.x=n.x+n.width-140>>0,o.y=n.y+90,s.x=o.x,s.y=o.y+105,this.addChild(r,n,i,a,o,s,h)}},{key:"show",value:function(t,e){this.visible=!0,this.scoreLabel.text=t,this.bestLabel.text=e,this.whiteMask.alpha=1,St.timeline({easing:"linear",duration:700}).add({targets:this.gameover,alpha:1,duration:100}).add({targets:[this.board,this.scoreLabel,this.bestLabel],alpha:1,y:"-=150",duration:400,easing:"easeOutBack"},200).add({targets:[this.startBtn,this.gradeBtn],alpha:1,duration:100},300).add({targets:this.whiteMask,alpha:0,duration:400},0)}},{key:"hide",value:function(){this.visible=!1,this.scoreLabel.text=99,this.bestLabel.text=99,this.gameover.alpha=0,this.scoreLabel.alpha=0,this.bestLabel.alpha=0,this.startBtn.alpha=0,this.gradeBtn.alpha=0,this.board.y+=150,this.scoreLabel.y+=150,this.bestLabel.y+=150}}])&&Ct(t.prototype,e),n&&Ct(t,n),r}();function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Lt(this,Et(r).call(this))).app=t,n.props=e,n.isFlying=!1,n.interval=6,n.gravity=.003,n.flyHeight=80,n.initVelocity=Math.sqrt(2*n.flyHeight*n.gravity),n.isUp=!1,n.init(e),n}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(r,c["Container"]),t=r,(e=[{key:"init",value:function(t){var e=this,n=this.app.tools.spriteFrame(t.image,[[0,0,86,60],[0,60,86,60],[0,120,86,60]]);this.birdAnimateSprite=new c.AnimatedSprite(n),this.birdAnimateSprite.anchor.set(.5,.5),this.birdAnimateSprite.animationSpeed=.2,this.addChild(this.birdAnimateSprite),this.app.ticker.add(function(t){e.calcFly(t)})}},{key:"ready",value:function(){this.x=this.props.startX,this.y=this.props.startY,this.birdAnimateSprite.angle=0,this.birdAnimateSprite.play(),this.tween=St({targets:this.birdAnimateSprite,y:"+=10",angle:"-=8",duration:400,loop:!0,direction:"alternate",easing:"linear"})}},{key:"startFly",value:function(){this.isFlying=!0,this.flyStartY=this.y,this.flyStartTime=+new Date,this.tween&&(this.tween.pause(),this.tween=null)}},{key:"stopBirdSpriteAnimate",value:function(){this.birdAnimateSprite.gotoAndStop(0)}},{key:"calcFly",value:function(){if(this.isFlying){var t=new Date-this.flyStartTime,e=this.initVelocity*t-.5*this.gravity*t*t,n=this.flyStartY-e;n<=this.props.groundY?(this.y=n,0<e&&!this.isUp?(this.tween=St({targets:this.birdAnimateSprite,angle:-20,duration:200}),this.isUp=!0):e<0&&this.isUp&&(this.tween=St({targets:this.birdAnimateSprite,angle:90,duration:300}),this.isUp=!1),this.isFlying=!0):(this.y=this.props.groundY,this.isFlying=!1)}}}])&&Bt(t.prototype,e),n&&Bt(t,n),r}();function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nt=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Dt(this,Xt(r).call(this))).app=t,n.props=e,n.i=0,n.init(e),n}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(r,c["Container"]),t=r,(e=[{key:"init",value:function(t){this.hoseSpacingX=300,this.hoseSpacingY=290,this.numHoses=4,this.numOffscreenHoses=.5*this.numHoses,this.hoseWidth=148+this.hoseSpacingX,this.width=this.hoseWidth*this.numHoses,this.height=t.stageHeight,this.reset(),this.createHoses(t.image)}},{key:"createHoses",value:function(t){for(var e=0;e<this.numHoses;e++){var n=this.app.tools.spriteFrame(t,[[0,0,148,820],[148,0,148,820]]),r=new c.Sprite(n[0]),i=new c.Sprite(n[1]);this.addChild(r,i),this.placeHose(r,i,e)}}},{key:"placeHose",value:function(t,e,n){var r=this.props.groundY-t.height+this.hoseSpacingY,i=this.props.groundY-180;t.y=r+(i-r)*Math.random()>>0,t.x=this.hoseWidth*n,e.y=t.y-this.hoseSpacingY-e.height,e.x=t.x}},{key:"startMove",value:function(){var t=-this.hoseWidth*this.numOffscreenHoses;this.startAnime||(this.startAnime=St({targets:this,x:[this.x,t],duration:4*(this.x-t),autoplay:!1,easing:"linear",complete:this.resetHoses.bind(this)})),this.moveAnime||0!=this.x||(this.moveAnime=St({targets:this,x:[this.x,t],duration:4*(this.x-t),autoplay:!1,easing:"linear",complete:this.resetHoses.bind(this)})),0==this.x?this.moveAnime.play():this.startAnime.play()}},{key:"stopMove",value:function(){this.moveAnime&&this.moveAnime.pause(),this.startAnime&&this.startAnime.pause()}},{key:"reset",value:function(){this.x=this.props.startX,this.moveAnime=null,this.startAnime=null,this.passThrough=0}},{key:"resetHoses",value:function(){for(var t=this.children.length,e=0;e<this.numOffscreenHoses;e++){var n=this.getChildAt(0),r=this.getChildAt(1);this.setChildIndex(n,t-1),this.setChildIndex(r,t-1),this.placeHose(n,r,this.numOffscreenHoses+e)}for(var i=0;i<t-2*this.numOffscreenHoses;i++){this.getChildAt(i).x=this.hoseWidth*(.5*i>>0)}this.x=0,this.passThrough+=this.numOffscreenHoses,this.startMove()}},{key:"checkCollision",value:function(t,e){return!!this.app.tools.bump.hit(t,this.children,!0,!1,!0,e||function(){})}},{key:"calcPassThrough",value:function(t){var e=0;0<(t=-this.x+t)&&(e+=t/this.hoseWidth+.5>>0);return e+=this.passThrough}}])&&Yt(t.prototype,e),n&&Yt(t,n),r}();function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"init",value:function(t,e,n){this.app=t,this.stageWidth=e,this.stageHeight=n,this.state="ready",this.initStage(),this.initScenes(),this.initBird(),this.initHoldBacks(),this.initCurrentScore(),this.initEvents(),this.gameReady()}},{key:"initStage",value:function(){var t=c.Sprite.from("bg");t.scale.set(this.stageWidth/t.width,this.stageHeight/t.height),this.app.stage.addChild(t);var e=c.Sprite.from("ground"),n=(this.stageWidth+120)/e.width;e.scale.set(n,1),e.y=this.stageHeight-e.height,this.groundY=e.y,this.ground=e,this.app.stage.addChild(e);var r=60*n,i=r/60;this.app.ticker.add(function(t){e.x<=-r?e.x=0:e.x-=i*t*2})}},{key:"initScenes",value:function(){this.readyScene=new p(this.app,{stageWidth:this.stageWidth,stageHeight:this.stageHeight,image:c.utils.TextureCache.ready}),this.app.stage.addChild(this.readyScene),this.gameOverScene=new Tt(this.app,{stageWidth:this.stageWidth,stageHeight:this.stageHeight,image:c.utils.TextureCache.over,visible:!1}),this.app.stage.addChild(this.gameOverScene)}},{key:"initBird",value:function(){this.bird=new Ft(this.app,{stageWidth:this.stageWidth,stageHeight:this.stageHeight,startX:200,startY:this.stageHeight>>1,groundY:this.groundY-12,image:c.utils.TextureCache.bird}),this.app.stage.addChildAt(this.bird,this.app.stage.getChildIndex(this.ground))}},{key:"initHoldBacks",value:function(){this.holdBacks=new Nt(this.app,{stageWidth:this.stageWidth,stageHeight:this.stageHeight,startX:this.stageWidth+200,groundY:this.groundY,image:c.utils.TextureCache.holdback}),this.app.stage.addChildAt(this.holdBacks,this.app.stage.getChildIndex(this.ground)-1)}},{key:"initCurrentScore",value:function(){this.currentScoreLabel=new c.BitmapText("0",{font:"64px fnum"}),this.currentScoreLabel.letterSpacing=14,this.currentScoreLabel.x=this.stageWidth-this.currentScoreLabel.width>>1,this.currentScoreLabel.y=180,this.app.stage.addChild(this.currentScoreLabel)}},{key:"initEvents",value:function(){var e=this;this.app.stage.interactive=!0,this.app.stage.on("pointerdown",function(){"over"!=e.state&&("ready"==e.state&&e.startGame(),e.bird.startFly())}),this.gameOverScene.startBtn.on("pointerdown",function(t){t.stopPropagation(),e.gameReady()}),this.app.ticker.add(function(t){e.calcHit(t)})}},{key:"gameReady",value:function(){this.state="ready",this.gameOverScene.hide(),this.score=0,this.currentScoreLabel.visible=!0,this.currentScoreLabel.text=this.score,this.holdBacks.reset(),this.readyScene.visible=!0,this.bird.ready()}},{key:"startGame",value:function(){this.state="playing",this.readyScene.visible=!1,this.holdBacks.startMove()}},{key:"gameOver",value:function(){this.state="over",this.bird.stopBirdSpriteAnimate(),this.holdBacks.stopMove(),this.currentScoreLabel.visible=!1,this.gameOverScene.show(this.score,this.saveBestScore())}},{key:"calcHit",value:function(){var t=this;if("playing"==this.state)if(this.bird.isFlying){var e=this.calcScore();this.currentScoreLabel.text=e,this.holdBacks.checkCollision(this.bird.birdAnimateSprite,function(){console.log("hit2~~"),t.gameOver()})&&(console.log("hit~~"),this.gameOver())}else this.gameOver()}},{key:"saveBestScore",value:function(){var t=this.score,e=0;return window.localStorage&&(e=parseInt(window.localStorage.getItem("pixijs-flappy-best-score"))||0),e<t&&(e=t,window.localStorage.setItem("pixijs-flappy-best-score",t)),e}},{key:"calcScore",value:function(){var t=this.holdBacks.calcPassThrough(this.bird.x);return this.score=t}}])&&$t(e.prototype,n),r&&$t(e,r),t}(),Ut=2*Math.min(innerWidth,450),Vt=2*Math.min(innerHeight,750),zt=new(window.PIXI=c).Application({width:Ut,height:Vt});zt.view.style="position: absolute; width: ".concat(.5*Ut,"px; height: ").concat(.5*Vt,"px;"),document.body.appendChild(zt.view);zt.loader.add([{name:"bg",url:"./assets/bg.png"},{name:"ground",url:"./assets/ground.png"},{name:"ready",url:"./assets/ready.png"},{name:"over",url:"./assets/over.png"},{name:"fnum",url:"./assets/fnum.fnt"},{name:"bird",url:"./assets/bird.png"},{name:"holdback",url:"./assets/holdback.png"}]),zt.loader.onProgress.add(function(t,e){}),zt.loader.load(function(){var t=new s;t.init(zt),zt.tools=t,(new Gt).init(zt,Ut,Vt)})}]);